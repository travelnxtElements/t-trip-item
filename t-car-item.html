<link rel="import" href="../polymer/polymer.html" />
<!--
    `t-car-item` car product component.
    This component shows information single car product.
	-->
<dom-module id="t-car-item">
    <template>
        <div>logo - [[logo]]</div>
        <div>name - [[name]]</div>
        <div>pickup date - [[pickupDate]]</div>
        <div>dropoff date - [[dropoffDate]]</div>
        <div>status - [[status]]</div>
    </template>
</dom-module>
<script>
Polymer({
    is: "t-car-item",

    properties: {

        /**
         * logo url.
         * This is required field.
         */
        logo: {
            type: String,
            value: 'car logo'
        },

        /**
         * activity product model.
         * This model is inventoriesInfo model of type 'Car' sent in mystique order api response
         * This is required field.
         */
        model:{
        	type:Object,
        	value:null
        }
    },

    attached: function() {
        this._populateModel();
    },

    _populateModel: function() {
    	this.status = this.model.bookingStatus;
    	this.name = this.model.inventory.brand.name;
        this._setDates();
    },

    _setDates: function() {
        var month = ["Jan", "Feb", "March", "April", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec"];

        if (this.model.searchCriteria.pickupDate) {
            var pickupDate = new Date(this.model.searchCriteria.pickupDate.date);
            this.pickupDate = pickupDate.getDate() + ' ' + month[pickupDate.getMonth()];
        }

        if (this.model.searchCriteria.dropoffDate) {
            var dropoffDate = new Date(this.model.searchCriteria.dropoffDate.date);
            this.dropoffDate = dropoffDate.getDate() + ' ' + month[dropoffDate.getMonth()];
        }
    }
});
</script>
