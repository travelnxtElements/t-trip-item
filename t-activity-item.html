<link rel="import" href="../polymer/polymer.html" />
<dom-module id="t-activity-item">
    <template>
        <div>logo - [[logo]]</div>
        <div>name - [[name]]</div>
        <div>date - [[date]]</div>
        <div>location - [[location]]</div>
        <div>status - [[status]]</div>
    </template>
</dom-module>
<script>
Polymer({
    is: "t-activity-item",

    properties: {
        logo: {
            type: String,
            value: 'activity logo'
        },

        name: {
            type: String,
            value: ''
        },

        date: {
            type: Date,
            value: null
        },

        location: {
            type: String,
            value: null
        },

        status: {
            type: String,
            value: ''
        },

        model: {
            type: Object,
            value: null
        }
    },

    attached: function() {
        this._populateModel();
    },

    _populateModel: function() {
        if (!this.model || !this.model.inventory || this.model.inventory.type.toLowerCase() !== 'activity') {
            console.error("activity inventory not found!");
            return;
        }

        this.name = this.model.inventory.name;
        this.status = this.model.bookingStatus;
        this.date = this.model.inventory.options[0].selectedDateTime.date;
        this.location = this.model.searchCriteria.location.cityName || 'not sent by api';
    }
});
</script>
